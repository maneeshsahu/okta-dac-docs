(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{362:function(e,t,s){e.exports=s.p+"assets/img/aws-iam.c83fc4d0.png"},363:function(e,t,s){e.exports=s.p+"assets/img/aws-iam-users.a4670bf0.png"},364:function(e,t,s){e.exports=s.p+"assets/img/aws-iam-create-user.ece29d79.png"},365:function(e,t,s){e.exports=s.p+"assets/img/aws-iam-user-admin-policy.aa200dcd.png"},366:function(e,t,s){e.exports=s.p+"assets/img/aws-iam-user-tags.00707c28.png"},367:function(e,t,s){e.exports=s.p+"assets/img/aws-iam-user-review.1c54ba73.png"},368:function(e,t,s){e.exports=s.p+"assets/img/aws-iam-user-credentials.24582820.png"},369:function(e,t,s){e.exports=s.p+"assets/img/aws-cli-profile.93a0351c.png"},370:function(e,t,s){e.exports=s.p+"assets/img/okta-tokens.83c7249a.png"},371:function(e,t,s){e.exports=s.p+"assets/img/okta-create-token.f65e543b.png"},372:function(e,t,s){e.exports=s.p+"assets/img/okta-token-created.7b848c9f.png"},398:function(e,t,s){"use strict";s.r(t);var a=s(42),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"install-dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-dependencies"}},[e._v("#")]),e._v(" Install Dependencies")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://github.com/oktadeveloper/okta-dac",target:"_blank",rel:"noopener noreferrer"}},[e._v("okta-dac"),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"https://github.com/oktadeveloper/byob-dashboard",target:"_blank",rel:"noopener noreferrer"}},[e._v("byob-dashboard"),a("OutboundLink")],1),e._v(" projects will need to install custom serverless components within AWS and also refer to entities defined within the Okta tenant. These projects leverage "),a("code",[e._v("terraform")]),e._v(" and "),a("code",[e._v("serverless")]),e._v(" to setup all the infrastructure as code.")]),e._v(" "),a("h2",{attrs:{id:"install-terraform"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-terraform"}},[e._v("#")]),e._v(" Install Terraform")]),e._v(" "),a("p",[e._v("Terraform is used to setup Okta.")]),e._v(" "),a("p",[e._v("See installation instructions here for your operating system: "),a("a",{attrs:{href:"https://learn.hashicorp.com/terraform/getting-started/install.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://learn.hashicorp.com/terraform/getting-started/install.html"),a("OutboundLink")],1)]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# e.g. Mac OS X homebrew:")]),e._v("\n$ brew "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" hashicorp/tap/terraform\n")])])]),a("h2",{attrs:{id:"install-serverless"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-serverless"}},[e._v("#")]),e._v(" Install Serverless")]),e._v(" "),a("p",[e._v("Serverless is used to setup AWS.")]),e._v(" "),a("p",[e._v("See installation instructions here for your operating system: "),a("a",{attrs:{href:"https://www.serverless.com/framework/docs/getting-started/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.serverless.com/framework/docs/getting-started/"),a("OutboundLink")],1)]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# e.g. Mac OS X via npm:")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g serverless\n")])])]),a("h2",{attrs:{id:"install-aws-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-aws-cli"}},[e._v("#")]),e._v(" Install AWS CLI")]),e._v(" "),a("p",[e._v("AWS CLI will be used by serverless to deploy to AWS")]),e._v(" "),a("p",[e._v("See installation instructions here for your operating system: "),a("a",{attrs:{href:"https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"enable-programmatic-access-to-aws"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enable-programmatic-access-to-aws"}},[e._v("#")]),e._v(" Enable Programmatic Access to AWS")]),e._v(" "),a("p",[e._v("To enable programmatic access to AWS within terraform and serverless, you will need to create an IAM user with sufficient admin privileges.")]),e._v(" "),a("p",[e._v("Log in to the AWS account where you plan to host the BYOB artifacts and navigate to the "),a("code",[e._v("IAM")]),e._v(" Service.")]),e._v(" "),a("p",[a("img",{attrs:{src:s(362),alt:"AWS IAM Service"}})]),e._v(" "),a("p",[e._v("Click on "),a("code",[e._v("Users")])]),e._v(" "),a("p",[a("img",{attrs:{src:s(363),alt:"AWS IAM - Users"}})]),e._v(" "),a("p",[e._v("Click on "),a("code",[e._v("Add User")]),e._v(". Make sure to check "),a("code",[e._v("Programmatic access")]),e._v(" as the access type.")]),e._v(" "),a("p",[a("img",{attrs:{src:s(364),alt:"AWS IAM - Add User"}})]),e._v(" "),a("p",[e._v("Click "),a("code",[e._v("Next: Permissions")])]),e._v(" "),a("p",[e._v("In "),a("code",[e._v("Set Permissions")]),e._v(", select "),a("code",[e._v("Attach existing policies directly")]),e._v(".")]),e._v(" "),a("p",[e._v("Select the "),a("code",[e._v("Administrator Access")]),e._v(" policy as below:")]),e._v(" "),a("p",[a("img",{attrs:{src:s(365),alt:"AWS IAM - Admin Access Policy"}})]),e._v(" "),a("p",[e._v("Click "),a("code",[e._v("Next: Tags")])]),e._v(" "),a("p",[e._v("Optional: Create a tag with key "),a("code",[e._v("okta")]),e._v(" with value "),a("code",[e._v("byob")])]),e._v(" "),a("p",[a("img",{attrs:{src:s(366),alt:"AWS IAM - Tags"}})]),e._v(" "),a("p",[e._v("Click "),a("code",[e._v("Next: Review")]),e._v(" to review the user configuration.")]),e._v(" "),a("p",[a("img",{attrs:{src:s(367),alt:"AWS IAM - Tags"}})]),e._v(" "),a("p",[e._v("Click "),a("code",[e._v("Create user")]),e._v(".")]),e._v(" "),a("p",[e._v("Once the user is created, you can download the csv with the "),a("code",[e._v("Access Key ID")]),e._v(" and "),a("code",[e._v("Secret access key")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:s(368),alt:"AWS IAM - Credentials"}})]),e._v(" "),a("h2",{attrs:{id:"create-named-profile-in-aws-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-named-profile-in-aws-cli"}},[e._v("#")]),e._v(" Create Named Profile in AWS CLI")]),e._v(" "),a("p",[e._v("The terraform and serverless scripts will use credentials defined in the named profile "),a("code",[e._v("serverless-okta")]),e._v(".")]),e._v(" "),a("p",[e._v("Using the credentials - "),a("code",[e._v("Access Key ID")]),e._v(" and "),a("code",[e._v("Secret access key")]),e._v(" from the previous step, configure an aws profile with the following command:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("serverless config credentials --provider aws --key  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("AWS_ACCESS_KEY_ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" --secret "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("AWS_SECRET_ACCESS_KEY"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" --profile serverless-okta\n")])])]),a("p",[e._v("For more info about the above command see "),a("a",{attrs:{href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("cli-configure-profiles"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("You can verify the presence of the named profile in the "),a("code",[e._v(".aws/credentials")]),e._v(" file.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" ~/.aws/credentials\n")])])]),a("p",[e._v("See the terminal console output below:")]),e._v(" "),a("p",[a("img",{attrs:{src:s(369),alt:"AWS Named Profile - Credentials"}})]),e._v(" "),a("h2",{attrs:{id:"enable-programmatic-access-to-okta"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enable-programmatic-access-to-okta"}},[e._v("#")]),e._v(" Enable Programmatic Access to Okta")]),e._v(" "),a("p",[e._v("To enable programmatic access to Okta within Terraform, you need to do the following:")]),e._v(" "),a("p",[e._v("Log in to Admin dashboard of the Okta tenant. Make sure to login as a user with sufficient privileges to create entities like Applications and Authorization Servers")]),e._v(" "),a("p",[e._v("Navigate to "),a("code",[e._v("Security -> API -> Tokens")])]),e._v(" "),a("p",[a("img",{attrs:{src:s(370),alt:"Okta Security - Tokens"}})]),e._v(" "),a("p",[e._v("Create a Token. You can name the token "),a("code",[e._v("Terraform Token")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:s(371),alt:"Okta Security - Create Token"}})]),e._v(" "),a("p",[e._v("Make sure to copy the created token. This will be used in terraform.")]),e._v(" "),a("p",[a("img",{attrs:{src:s(372),alt:"Okta Security - Token Created"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);